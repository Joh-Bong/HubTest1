1.	更新履歴	2
2.	背景（要求事項）	3
3.	目的（要件定義）	3
4.	要件詳細	4
4.1.	NZ2Cのログ収集	5
4.2.	Liplus機能のTX-101・NZ2C対応	5
4.2.1.	Fab information画面	5
4.2.2.	Command select画面	5
4.2.3.	Parameter画面	7
4.3.	TM VCS可視化機能開発	17
5.	成果物	17
6.	テスト要件	18
 

1.	更新履歴
訂版	変更年月日	変更概要	担当者
1.0	2025/7/XX	初版作成	李 景烈
			
			
			
			
			

 
2.	背景（要求事項）
KrF／i線装置では、ユーザーの生産性向上やキヤノンエンジニアによる保守サポートの質向上を実現するソリューションサービス「Lithography Plus」を展開している。これまで、新製品TX-101に対して「Lithography Plus」の導入を目的に開発を進めている。
今回の開発では、TX-101に続き、新製品NZ2Cに対しても「Lithography Plus」を展開することで、ユーザーの生産性向上と保守サポートの質向上を実現することを目的としている。NZ2Cの市場拡大に伴い、安定した装置運用と迅速な保守対応が求められており、既存サポートツールの統合を通じて、運用負荷の軽減と効率化を図る。
すなわち、NZ2Cの競争力強化と安定運用を支えるために、「Lithography Plus」の展開は不可欠であり、本開発はその基盤構築を目的としている。

3.	目的（要件定義）
Lithography PlusをTX-101およびNZ2Cに対応させるために2024年調査分析を実施し、その結果に基づき、TX-101に対応させるための第一段階としてイベント履歴、エラー発生履歴、パラメータ変更履歴の機能を開発している。
それに引き続きTX-10１の顧客先で運営するための必須機能を実現して運営を開始するために以下の機能の開発をする。
1．TX-101機種対応			(EST-00038)
2．DPOS＆Missing check機能開発		(EST-00039)
3．Dispenser accumulation check機能開発	(EST-00040)
4．Hydra status機能開発			(EST-00041)

これらの機能を実現する際には、KrF／i線装置向けの機能を損なわないようにすることが重要である。

 
4.	要件詳細
本件の対象範囲は以下の図で示す。
 
図 4 1　 TX-101のLiplus構成図

 
4.1.	NZ2Cのログ収集
4.1.1.	現在ESPRITで収集しているNZ2C装置のBRTLデータ全部をMDASに対応する。詳細なイベントモデルの仕様をESPRITバージョン3.4のソースコードを参考する。NZ2Cのステーション対応
A1,A2,B1,B2対応
4.1.2.	対象イベントモデル一覧
ESPRITソースコード3.4で収集しているNZ2C装置のイベントモデル一覧を以下に記載する。
以外Liplus機能に追加される必要なイベントがあれば協議後追加する。
Ｎｏ	Lithography PlusのEvent ID	イベント履歴	エラー発生履歴	パラメータ変数履歴
1	AlsHalogen	〇		
2	AlsLaserDiode	〇		
3	AlsMetalHalide			
4	AnomalyDetectionFunc			
5	ArcherData			
6	BrtlExtractorWakeUpEvent	〇		
7	ChamberStateEvent	〇		
8	CmdJobEvent	〇		
9	CmdSeq			
10	DispenseEvent	〇		
11	DispenseModeEvent	〇		
12	DispenseSeq			
13	DxdMeasure			
14	ErrorEvent	〇	〇	
15	EspritCollectDataEvent	〇		
16	ExecutorMLEvent	〇		
17	ExposureSeq			
18	ExtrusionImage			
19	FieldRecipeShot			
20	GausData			
21	GtocFunc			
22	GtocPlaneData			
23	HODCJobInfo			
24	IMCSParamSetEvent	〇		〇
25	IMCSParamSetRecipe	〇		〇
26	ImprintSeq			
27	IMShotData			
28	IMStatsFile			
29	IpExpoShotData			
30	JobParamSet	〇		〇
31	LotAllStationSeq			
32	LotEvent	〇		
33	LotSeq			
34	MachineStateErrEvent	〇	〇	
35	MachineStateEvent	〇		
36	MaskLoadFunc	〇		
37	MaskOnIh			
38	MaskUnloadFunc	〇		
39	MshcFunc			
40	MtocFunc			
41	MuSeqEvent	〇		
42	MuSubStsEvent	〇		
43	PeriodicDispFunc			
44	PMAIMCSErrorDirEvent	〇		
45	PostShotSeq			
46	PreOvlFunc			
47	PreShotSeq			
48	PscErrorEvent	〇	〇	
49	RemoveForceOfsSeq			
50	ResetSeq			
51	RfSeqEvent	〇		
52	RTParamSetEvent	〇		〇
53	SeparationSeq			
54	SfcFunc			
55	SfcImage			
56	SfcLocation			
57	SfcShotSeq			
58	ShotAcqFile			
59	ShotDataCollectEvent	〇		
60	ShotSeq			
61	ShotStatsFile			
62	SpreadCamDFunc			
63	StartConditionCheckSeq			
64	StationStateEvent	〇		
65	SysParamSet	〇		〇
66	SysParamTTMOfs			
67	TtmIPDieByDieInquiry			
68	TtmMoveAndMeas			
69	TtmMoveAndPreMeas			
70	TtmPosOfs			
71	TtmScope			
72	TvpaFunc			
73	TvpaShotSeq			
74	UnitVersion			
75	WacInlineIF			
76	WacLoadPort			
77	WacPA			
78	WacRobot			
79	WacRobotHand			
80	WacSeqEvent	〇		
81	WacStation			
82	WacWTC			
83	WaferLoadSeq			
84	WaferManualInfo			
85	WaferMoveTracer			
86	WaferSeq			
87	WaferTracer			
88	WaferTransferEvent	〇		
89	WaferUnloadSeq			
90	WfSeqEvent	〇		
91	WrecipeSetMarathonConfig			
92	XFDParamSetEvent	〇		




4.2.	Liplus機能のTX-101・NZ2C対応
4.2.1.	Fab information画面
4.2.1.1.	「Tool」タブ
本機能はLiplus開発Phase2でTX-101の対応を実施した。本委託ではＮＺ２Ｃ機種の追加による対応を行う。
変更点がない場合、NZ2C機種でのテストだけでいい。

4.2.1.2.	「Anomaly」タブ
本機能は次回の委託で対応する予定。

4.2.1.3.	「Tool Configuration」タブ
「Tool Configuration」タブは装置のユニットのバージョンやシステムパラメータの値を表示する。
 

	項目	説明
①	装置バージョン関連情報一覧	装置バージョン関連情報の一覧を表示します。
②	表示列選択ダイアログ表示ボタン	装置バージョン関連情報一覧に表示する列を選択するダイアログを表示します。


項目	5550	6300	TX-101	NZ2C	
Tool	〇	〇	〇	〇	
Model	〇	〇	〇	〇	
Main version	〇	〇	〇	〇	
Version up date	〇	〇	〇	〇	
Fab	〇	〇	〇	〇	
Building	〇	〇	〇	〇	
S/N	〇	〇	〇	〇	
Chamber type	〇	〇			
Machine type	〇	〇			
Stage Type		〇			
WF System		〇			
Wafer Size		〇			
Laser Type		〇			
Slit Type		〇			
OPTF Type		〇			
OAS Type		〇			
LI/UC Meas Mode		〇			
Stage Profile		〇			
OH Option		〇			
RTOS		〇			
IP		〇			
CHB		〇			
RSMP		〇			
PRG		〇			
IL1A		〇			
IL1B		〇			
IL2A		〇			
IL3A		〇			
IL4A		〇			
MBPC1		〇			
MBPC2		〇			
MFRS		〇			
RA		〇			
RSU		〇			
PO1		〇			
PO2		〇			
OAS		〇			
CM		〇			
EXPO		〇			
PCS		〇			
ALS		〇			
MFWS		〇			
WS		〇			
SHRH		〇			
PA		〇			
SCH		〇			
RCS		〇			
PPC1		〇			
PPC2		〇			
CANET		〇			
NALS		〇			
NOAS		〇			
					







4.2.2.	Command select画面
Command select画面は、Lithography Plusに接続されている装置で実行した各種コマンドの実行結果を確認するための画面である。コマンド実行結果ファイルを簡単に取得して内容を表示する。

4.2.2.1.	Command select
Command select画面では、対象Fab、Building、Series、Modelおよび装置を指定し、任意のコマンドを選択します。
検索結果のFile Listから任意のファイルを選択し、「Result」ボタンでファイルの内容をCommand result画面に表示します。

 
Fig. 3.5.6.1.1 Command select

	項目	説明
①	Command select	表示したい絞り込みメニューを選択します。
②	絞り込みメニュー	Command selectの選択により絞り込みメニューを表示します。
・Function menu：	機能毎表示
・Initial menu：	アルファベット表示
③	Command list	絞り込みメニューで選択された項目のコマンド一覧を表示します。
④	File list	コマンド結果ファイル一覧を表示します。
⑤	Clear sortボタン	File listのヘッダをクリックしたときのソート状態を解除します。
⑥	Resultボタン	Command result画面を表示します。

4.2.2.1.	Command result
Command result画面は、コマンド実行結果ファイルの内容を表示します。

  
Fig. 3.5.6.2.1 Command result

	項目	説明
①	Prev./Nextボタン	表示しているコマンド結果の前後のコマンド結果を表示します。

4.2.3.	Parameter画面
Parameter画面は、Lithography Plusに接続されている露光装置の各種パラメータの現在値を確認するための画面です。
複数台の装置またはロットから簡単に情報を取得して内容を表示します。

Parameter画面では、まず始めにParameter画面タブから表示対象の選択を行います。
Fig. 3.5.7.1. (Parameter初期画面)

	項目	説明
①	Parameter画面タブ	Parameter画面に表示する情報を切り替えるタブ
System parameter: 装置毎のシステムパラメータを確認します。
Job parameter: ロット毎のジョブパラメータを確認します。

 
4.2.3.1.	3.5.7.1 System parameterタブ
System parameterタブ画面では、まず始めに対象Fabから選択します。
Fabを選択すると、存在する建屋と機種、該当装置が自動的に設定されます。
取得したいパラメータのキーワードをParameter keywordに入力して「Search」ボタンを押下することで、選択した全ての装置から、キーワードが部分一致した全てのパラメータの現在値が取得され、装置別に表示されます。
取得したいパラメータの種別（Parameter kind）や機能分類（Parameter function）を指定して、検索対象を絞り込むことができます。
表示されたパラメータの値を選択すると、下部にパラメータの詳細情報が表示されます。
表示されたパラメータの変更履歴が知りたい場合は「Change history」ボタンを押下することで、該当パラメータの装置リセット時の値と変更時の値が表示されます。

 
Fig. 3.5.7.1.1 System parameterタブ

No.	Item	Description
①	検索条件設定エリア	検索したいパラメータの検索条件を設定します。

②	Fab表示欄	Fab名を表示します。
③	Model表示欄	Model名を表示します。
④	Tool表示欄	Tool名を表示します。
 
⑤	Version表示欄	装置の本体ソフトバージョンを表示します。
⑥	Grade表示欄	装置のTP Optionの値を表示します。
⑦	パラメータ一覧	パラメータのPathと値を表示します。
⑧	Change historyボタン	パラメータ一覧にて選択されたパラメータの履歴を現在から過去1年分(1000件を超える場合は1000件まで)表示します。履歴にはリセットされたときの値も表示します。
⑨	Detail information	パラメータ一覧にて選択されたパラメータの詳細情報を表示します。
⑩	装置間差異表示ボタン	All parametersが選択されている場合は全パラメータを表示し、Only differencesが選択されている場合は装置間差があるパラメータのみを表示する。
⑪	CSV downloadボタン	パラメータ一覧をCSV形式のファイルでダウンロードします。
All parametersの場合は全パラメータ一覧をダウンロードし、Only differencesの場合は装置間差があるパラメータのみダウンロードします。

 
Fig. 3.5.7.1.2 Change history
 

No.	Item	Description
①	パラメータ詳細情報	パラメータの詳細情報を表示します。
・Fab: 顧客名
・Building: 建屋名
・Series: シリーズID
・Model: 機種ID
・Tool: 装置名
・Path: パラメータパス
・Parameter type: パラメータ種別
- System: システムパラメータの変更
- Recipe: レシピパラメータの変更
- Job: ジョブパラメータの変更
- Reticle: レチクルパラメータの変更
- Illumination: イルミネーションパラメータの変更
・Recipe or Reticle: RecipeまたはReticle
・Description: パラメータの説明
・Unit: パラメータの単位
・Value: パラメータ値のデフォルト値、上限値、下限値
表示形式は、[Default] val [Upper] val [Lower] val
※ valにはそれぞれの値を表示します
・Option values: パラメータの選択肢
・PID: パラメータID
②	パラメータ変更一覧	パラメータ変更の変更日や値を一覧表示します。
・Date: パラメータを変更またはリセットした日時
・Value: パラメータの値
・Operation: オペレーション
・Trigger: 変更トリガー
- Console： e-Consoleのパラメータエディタからの変更
- Host： Onlineからのパラメータ変更
- Job： ジョブ実行からの変更
- Command： コマンド実行からの変更
- Lithography Plus： Lithography Plusからの変更
③	閉じるボタン	ポップアップ画面を閉じます。
④	Event historyボタン	Event history画面を表示します。
 
4.2.3.2.	3.5.7.2 Job parameterタブ
Job parameterタブ画面では、まず始めに対象Fabから選択します。
Fabを選択すると、存在する建屋と機種、該当装置が自動的に設定されます。
取得したいJobの検索期間、レシピ名、ロット名を入力して「Search」ボタンを押下することで、選択した全ての装置から、条件に一致した全ての情報が取得され、Job一覧テーブルに表示されます。
Job一覧テーブルからパラメータを確認したいJobを選択し、Addボタンを押下すると、対象のジョブパラメータが取得され、Job別に表示されます。
最大10個のJobまで表示可能で、再度対象Jobを選択してAddボタンを押下することで、追加でジョブパラメータを取得します。
先頭に”*”が付いているパラメータ値は、e-Console上のプルダウンの通し番号を表示しています。詳細は、e-Console上の表示値を確認してください。

  
Fig. 3.5.7.2.1 Job parameterタブ

No.	Item	Description
①	検索条件設定エリア	検索したいパラメータの検索条件を設定します。
②	Job一覧テーブル	検索結果のJob一覧を表示します。
③	Addボタン	Job一覧テーブルで選択したJobに紐づくジョブパラメータをパラメータ一覧に追加表示します。
④	Deleteボタン	対象Jobを表示対象から削除します。
 
⑤	Model表示欄	対象Jobの装置モデルを表示します。
⑥	Tool表示欄	対象Jobの装置名称を表示します。
⑦	Recipe表示欄	対象Jobのレシピ名を表示します。
⑧	Lot表示欄	対象Jobのロット名を表示します。
⑨	Lot start time表示欄	対象Jobのロット実行開始日時を表示します。
⑩	パラメータ一覧	パラメータのPathと値を表示します。
⑪	ジョブ間差異表示ボタン	All parametersが選択されている場合は全パラメータを表示し、Only differencesが選択されている場合はジョブ間差があるパラメータのみを表示します。
⑫	CSV downloadボタン	パラメータ一覧をCSV形式のファイルでダウンロードします。
All parametersの場合は全パラメータ一覧をダウンロードし、Only differencesの場合はジョブ間差があるパラメータのみダウンロードします。


 


4.3.	TX-101のTM （Thermal Module）データ可視化機能開発
Job別、Wafer別TMデータグラフを表示する。
BRTLのMIDは180151。
sno=122376465,sec=1748861364,usec=896098,sip=150.61.140.1,tid=18949,C(j=167140,w=44818,r=-1,wil=1,p=-1,s=-1,m=-1,jt=-1,tt=-1,f=-1,lu=-1,pu=-1,u=-1,a=-1,pi=-1,stg=311)
2025/06/02 19:49:24.896098+0900, WFTM  :180151:St:VCS1 Type:IC Addr:8094 Name:MCIN_SMOUT BIT1 Value:0.000
ContextInfoのｊ＝ＪｏｂＩＤ、ｗ＝ＷａｆｅｒＩＤ
ＴＭＶａｌｍａｔＤａｔａイベントで収集してＬｉｐｌｕｓＤＢの新規ＤＢテーブルに保存。
ユーザが見たいＴｙｐｅのパラメータ（Ｎａｍｅ）を選択したら対するデータをグラフで表示する。

UI검색조건)
기간별? Job별? Wafer별?모두?
아니면 기간 내 수행 한 Job 목록 띄워주고 Job 선택하면 그에 해당하는 Item 골라서 표시???
X축은 Job/Wafer/시간 선택 할 수 있게??



4.4.	LiplusUIの機種共通化
5550,6300,6400,IAP,NZ2Cなど以後に追加できる新規装置シリーズの交通対応のためLiplus機能毎に使用可能機種の設定して機種交通化対応を行う。

- MasterDataImport기능 추가
- Import하는Excel의Template제공
- 메뉴 전체에 대한 접근 권한 제한? 검색 조건의 시리즈에 목록 안뜨게?
- MasterData로 Database에 관리하여 소스코드 수정/빌드 없이 유연하게 대응 가능
- 시리즈 검색 콤보박스 전용 공통으로 하나 만들어서 마스터데이터에서 해당 메뉴에 대한 권한 있는 애들만 반환하게 하는거 만들어놓으면 공수 크게 안들듯(전체 기능의 시리즈 콤보박스 바꿔주는 노가다작업만)
- 업그레이드 시 DB에 초기값 설정하는 sql 추가

4.5.	装置毎にステーション情報のマスタデータ化
Liplus를 사용하는 장치 시리즈의 종류가 늘어남에 따라 장치의 특성 상 Station을 사용하는 기종들에 대해 각 Station에 대한 코드값, 이름, 사용유무에 대한 유동적인 관리의 필요성이 있다.
각 시리즈에 대한 모델별로 향후 Station 갯수나 이름이 다를 수 있기 때문에, 모델 별 Station 정보를 마스터데이터로 관리하여 소스코드의 수정/빌드 없이 DataImporter를 통하여 관리할 수 있도록 대응한다.
시리즈, 모델 별 Station 코드와 이름을 저장하고, 각 Station에 대한 사용 유무 또한 지정하여 검색 조건에서 미사용 중인 Station에 대해서는 표시하지 않는 것으로 대응한다.

- MasterDataImport기능 추가
- Import하는Excel의Template제공
- 공수 부족하면 DeMSS 처럼 UI 대응까지??

5.	成果物
本件の成果物は、以下の通りとする。
・ 機能仕様書
・ 詳細設計書
・ ソースコード
・ 実行ファイル
・ テスト計画書
・ 品質基準報告書
・ テスト報告書
・ レビュー議事録

 
6.	テスト要件
本件の成果物の作成においては、以下の条件を満たすテストを経るものとする。
・ ソフトウェアの動作は、Lithography Plus/MDASが規定する正式なOSバージョン上で確認する。
・ 動作確認に用いるハードウェアは、性能不足に起因するタイムアウト等で機能未達を引き起こすことが無い限り、Lithography Plus/MDASが規定する正式なハードウェアスペックを必ずしも満足しなくても良い。（タイムアウトが発生しない限りは、応答速度は不問とする。）また、上述のOSが動作するのであれば、物理はハードウェアではなく、仮想マシン上でのテストでも構わない。
・ 装置データの取得部分のテストは、TX-101実機の代わりに委託元が指定するシミュレータ(VSS)を用いる。

テストの要件は以下の通りする。
・ 各機能ことに必要なログが正しく収集できるかを確認する
・ 機能対応のために収集するログの保存期間が過ぎたら削除されることを確認
・ 収集したログがLiplusのUI上に正しく表示されること
・ 可視化機能の場合正しい結果が表示されているか
・ 本機能の対応で既存装置のLiplus機能に影響がないこと

